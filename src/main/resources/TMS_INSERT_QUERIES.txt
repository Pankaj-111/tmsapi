CREATE TABLE `features` (
  `ID` bigint(20) NOT NULL,
  `NAME` varchar(128) NOT NULL,
  `DESCRIPTION` varchar(512) DEFAULT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `NAME_UNIQUE` (`NAME`)
)  

CREATE TABLE `license` (
  `ID` bigint(20) NOT NULL,
  `NAME` varchar(64) NOT NULL,
  `DESCRIPTION` varchar(512) DEFAULT NULL,
  `STARTDATE` timestamp NOT NULL,
  `ENDDATE` timestamp NOT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `NAME_UNIQUE` (`NAME`)
)  

CREATE TABLE `license_features` (
  `ID` bigint(20) NOT NULL,
  `LICENSE_ID` bigint(20) NOT NULL,
  `FEATURE_ID` bigint(20) NOT NULL,
  `STARTDATE` timestamp NOT NULL,
  `ENDDATE` timestamp NOT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`)
)  

CREATE TABLE `organisation` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(128) NOT NULL,
  `PARENT_ORG` bigint(20) DEFAULT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CREATED_BY` bigint(20) NOT NULL,
  `ISACTIVE` varchar(1) DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `NAME_UNIQUE` (`NAME`),
  KEY `CREATEDATE_INDEX` (`CREATEDATE`) /*!80000 INVISIBLE */,
  KEY `MODIDATE_INDEX` (`MODIDATE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='store the organisation data';

CREATE TABLE `organisation_conatacts` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `ORG_ID` bigint(20) NOT NULL,
  `CONATCT_PERSON` varchar(64) NOT NULL,
  `EMAIL` varchar(128) NOT NULL,
  `MOBILE` bigint(20) NOT NULL,
  `ISD` bigint(20) NOT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  KEY `CREATEDATE_INDEX` (`CREATEDATE`) /*!80000 INVISIBLE */,
  KEY `MODIDATE_INDEX` (`MODIDATE`) /*!80000 INVISIBLE */,
  KEY `MOBILE_INDEX` (`MOBILE`) /*!80000 INVISIBLE */,
  KEY `EMAIL_INDEX` (`EMAIL`),
  KEY `ORG_INDEX` (`ORG_ID`)
)  

CREATE TABLE `pos` (
  `ID` bigint(20) NOT NULL,
  `SERIAL_ID` varchar(128) NOT NULL,
  `POS_DESCRIPTION` varchar(256) DEFAULT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `SERIAL_ID_UNIQUE` (`SERIAL_ID`)
)  

CREATE TABLE `pos_details` (
  `ID` bigint(20) NOT NULL,
  `POS_ID` varchar(128) NOT NULL,
  `LATITUDE` varchar(100) DEFAULT NULL,
  `LONGITUDE` varchar(100) DEFAULT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  `BATTERY_PERCENTAGE` bigint(20),
  `APP_VER_NAME` varchar(100),
  `APP_VER_CODE` varchar(100),
  `TIME_STAMP_FROM_DEVICE` timestamp,
  `SIGNAL_STRENGTH` varchar(20),
  `NETWORK_TYPE` varchar(10),
  `DEVICE_START_TIME` timestamp,
  `AVAILABLE_FREE_SPACE `varchar(10),
  `INSTALLED_APPS` varchar(400),
  PRIMARY KEY (`ID`),
  UNIQUE KEY `POS_DETAILS_POS_ID_UNIQUE` (`POS_ID`)
  )
  

CREATE TABLE `pos_allocation` (
  `ID` bigint(20) NOT NULL,
  `POS_ID` varchar(20) NOT NULL,
  `LICENSE_ID` bigint(20) DEFAULT NULL,
  `LATITUDE` double DEFAULT NULL,
  `LOGITUDE` double DEFAULT NULL,
  `CREATEDBY` bigint(20) NOT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `POS_ID_UNIQUE` (`POS_ID`)
)  

CREATE TABLE `pos_allocation_history` (
  `ID` bigint(20) NOT NULL,
  `POS_ID` varchar(20) NOT NULL,
  `USER_ID` bigint(20) NOT NULL,
  `LICENSE_ID` bigint(20) NOT NULL,
  `CREATEDATE` timestamp NOT NULL,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL,
  `ALLOCATION_ID` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`ID`)
)  

CREATE TABLE `pos_history` (
  `ID` bigint(20) NOT NULL,
  `POS_ID` varchar(20) NOT NULL,
  `USER_ID` bigint(20) NOT NULL,
  `CREATEDATE` timestamp NOT NULL,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL,
  PRIMARY KEY (`ID`)
)  

CREATE TABLE `users` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `LOGIN_ID` varchar(128) NOT NULL,
  `EMAIL` varchar(128) NOT NULL,
  `MOBILE` bigint(20) NOT NULL,
  `ISD` bigint(20) NOT NULL,
  `ORG_ID` bigint(20) NOT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `LOGIN_ID_UNIQUE` (`LOGIN_ID`),
  UNIQUE KEY `EMAIL_UNIQUE` (`EMAIL`),
  UNIQUE KEY `MOBILE_UNIQUE` (`MOBILE`)
)  

CREATE TABLE `users_authority` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `USER_ID` bigint(20) NOT NULL,
  `AUTHORITY` varchar(45) NOT NULL,
  `CREATEDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATEDBY` bigint(20) NOT NULL,
  `MODIDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ISACTIVE` varchar(1) NOT NULL DEFAULT 'Y',
  PRIMARY KEY (`ID`)
)